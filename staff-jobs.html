<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>My Jobs</title><link rel="stylesheet" href="styles.css"><link rel="stylesheet" href="components/supplierLinks.css"></head><body>
<header class="top">
  <div class="container row top row">
    <a class="brand" id="brandLink" href="dashboard.html" aria-label="Home">
      <img id="headerLogo" src="assets/XposeManagementCRMlogo.png" alt="Logo">
    </a>
    <button id="menuToggle" class="menu-toggle" aria-label="Toggle menu"><span></span><span></span><span></span></button><nav id="mainNav">
      <a href="dashboard.html" class="owner-nav">Dashboard</a>
      <a href="appointments.html" class="">Appointments</a>
      <a href="staff-portal.html" class="staff-only-nav">Staff Portal</a>
      <a href="claim-board.html" class="">Claim Board</a>
      <a href="staff-jobs.html" class="active">My Jobs</a>
      <a href="messages.html" class="">Messages</a>
      <a href="invoices.html" class="">Invoices</a>
      <a href="customers.html" class="">Customers</a>
      <a href="revenue.html" class="owner-nav">Revenue</a>
      <a href="settings.html" class="owner-nav">Settings</a>
      <a href="profile.html" class="">Profile</a>
        <a href="#" id="mobileThemeToggle" class="mobile-nav-btn mobile-special">Theme</a>
        <a href="#" id="mobileLogoutBtn" class="mobile-nav-btn mobile-special">Logout</a>
    </nav>
    <div>
      <button id="themeToggle" class="btn" aria-label="Toggle theme">Theme</button>
      <button id="logoutBtn" class="btn" aria-label="Logout">Logout</button>
    </div>
  </div>
</header>
<div id="notification" class="notification hidden"></div>
<div id="errorBanner" class="notification hidden" style="background:#ef4444;color:white;"></div>
<main class="container" style="padding:16px 0"><h1>My Jobs</h1>

<div class="card">
  <h3>Active Jobs (In progress)</h3>
  <table class="table" id="jobsTable">
    <thead><tr>
      <th style="width: 20px; padding: 0;"></th>
      <th>Job #</th>
      <th>Customer</th>
      <th>Vehicle</th>
      <th>Service</th>
      <th>Status</th>
      <th>Assigned To</th>
      <th>Actions</th>
    </tr></thead>
    <tbody></tbody>
  </table>
  <p class="notice" id="jobsEmpty"></p>
</div>

<div class="card" id="awaitWrap" style="margin-top:16px">
  <h3>Awaiting Parts</h3>
  <table class="table" id="awaitTable">
    <thead><tr>
      <th style="width: 20px; padding: 0;"></th>
      <th>Job #</th>
      <th>Customer</th>
      <th>Vehicle</th>
      <th>Service</th>
      <th>Status</th>
      <th>Assigned To</th>
      <th>Actions</th>
    </tr></thead>
    <tbody></tbody>
  </table>
  <p class="notice" id="awaitEmpty"></p>
</div>

<!-- Reuse jobs modals from jobs.html for consistency -->
<div id="jobViewModal" class="modal-overlay hidden" onclick="closeJobViewModal()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <div class="modal-head">
      <h3>Job Details</h3>
      <button onclick="closeJobViewModal()" class="btn-close">&times;</button>
    </div>
    <div class="modal-body" id="jobViewContent"></div>
    <div class="modal-foot"><button onclick="closeJobViewModal()" class="btn">Close</button></div>
  </div>
</div>

<div id="jobNoteModal" class="modal-overlay hidden" onclick="closeJobNoteModal()" style="z-index: 10030;">
  <div class="modal-content" onclick="event.stopPropagation()" style="max-width: 600px;">
    <div class="modal-head">
      <h3 id="jobNoteModalTitle">Add Note</h3>
      <button onclick="closeJobNoteModal()" class="btn-close">&times;</button>
    </div>
    <div class="modal-body">
      <form id="jobNoteForm" style="display: flex; flex-direction: column; gap: 12px;">
        <label for="jobNoteText">Note:</label>
        <textarea id="jobNoteText" rows="4" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; resize: vertical;" placeholder="Enter your note here..."></textarea>
        <div style="display: flex; flex-direction: column; gap: 8px;">
          <label>Attachments (Images/Videos):</label>
          <div style="display: flex; align-items: center; gap: 12px;">
            <label for="jobNoteMedia" class="btn small" style="cursor: pointer; margin: 0;">Choose Files</label>
            <input type="file" id="jobNoteMedia" accept="image/*,video/*" multiple style="display: none;">
            <span id="jobNoteMediaCount" style="font-size: 13px; color: #666;">No files selected</span>
          </div>
          <div id="jobNoteMediaPreview" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 4px;"></div>
        </div>
      </form>
    </div>
    <div class="modal-foot">
      <button onclick="closeJobNoteModal()" class="btn">Cancel</button>
      <button onclick="saveJobNote(event)" class="btn info" id="saveJobNoteBtn">Save</button>
    </div>
  </div>
</div>

<footer class="container">Â© Xpose Market</footer>
<script src="vendor/supabase.umd.js"></script>
<script type="module" src="app.js"></script>
<script src="multi-tenant.js"></script>
<script type="module" src="pages/jobs-staff.js"></script>
</body></html>
